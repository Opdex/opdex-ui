<div id="tx-sidebar-container">
  <div class="d-flex align-items-center justify-content-between mb-3" *ngIf="showNavMenu">
    <!-- Empty div on purpose so the transaction type selector is centered even if the below button is hidden.-->
    <div style="width: 22px; height: 22px;">
      <button mat-icon-button color="primary" class="small" (click)="toggleSidenavMode()" *ngIf="widescreen">
        <mat-icon>{{sidenavMode == 'over' ? 'unfold_more' : 'unfold_less' }}</mat-icon>
      </button>
    </div>

    <button mat-button class="d-flex small" [matMenuTriggerFor]="beforeMenu" style="text-align: left;">
      <div class="menu-content d-flex justify-content-between align-items-center">
        <ng-container *ngFor="let transactionType of transactionTypes">
          <span *ngIf="message?.view === transactionType.view" class="d-flex align-items-center">
            <mat-icon class="mr-3 small" [ngClass]="transactionType.iconColor">{{transactionType.icon}}</mat-icon>
            {{transactionType.title}}
          </span>
        </ng-container>

        <mat-icon>keyboard_arrow_down</mat-icon>
      </div>
    </button>

    <mat-menu #beforeMenu="matMenu" xPosition="before" class="w-100">
      <ng-container *ngFor="let transactionType of transactionTypes">
        <button mat-menu-item class="small" (click)="setTransactionView(transactionType.view)">
          <mat-icon class="mr-3" [ngClass]="transactionType.iconColor">{{transactionType.icon}}</mat-icon>
          {{transactionType.title}}
        </button>
      </ng-container>
    </mat-menu>

    <button mat-icon-button color="primary" (click)="closeSidenav()" class="small" aria-label="Close Sidenav">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <mat-divider class="mb-3" *ngIf="showNavMenu"></mat-divider>

  <div class="connect-wallet mb-3" *ngIf="!context?.wallet">
    <opdex-connect-wallet-card (onConnectWallet)="handleConnectWallet()"></opdex-connect-wallet-card>
  </div>

  <div [ngSwitch]="message?.view">
    <opdex-tx-swap *ngSwitchCase="1" [data]="message?.data"></opdex-tx-swap>
    <opdex-tx-provide *ngSwitchCase="2" [data]="message?.data"></opdex-tx-provide>
    <opdex-tx-stake *ngSwitchCase="3" [data]="message?.data"></opdex-tx-stake>
    <opdex-tx-mine *ngSwitchCase="4" [data]="message?.data"></opdex-tx-mine>
    <opdex-tx-allowance *ngSwitchCase="5" [data]="message?.data"></opdex-tx-allowance>
    <opdex-tx-create-pool *ngSwitchCase="6" [data]="message?.data"></opdex-tx-create-pool>
  </div>
</div>
