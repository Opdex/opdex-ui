<div id="pool">
  <div class="container pt-3" *ngIf="pool">

    <div class="row mb-5">
      <div class="col">
        <h1 class="mb-3">{{pool.token.src.symbol}}-CRS</h1>
        <p>{{pool.address}}</p>

        <mat-chip-list aria-label="Amenities">
          <mat-chip color="primary" selected>0.3% Fee</mat-chip>
          <mat-chip color="primary" selected>Nominated</mat-chip>
          <mat-chip selected>Mining</mat-chip>
        </mat-chip-list>
      </div>

      <div class="col">
        <!-- search bar component-->
      </div>
    </div>
    <div class="row mb-5">
      <div class="col-12">
        <div class="stats">
          <div class="row mb-4">
            <div class="col">
              <opdex-card>
                <div class="d-flex justify-content-between align-items-center">
                  <h4 class="mb-0">1 {{pool.token.src.symbol}} (${{pool.token.src.summary.price.close | formatNumber: 2}})</h4>
                  <mat-icon>swap_horiz</mat-icon>
                  <h4 class="mb-0">{{pool.cost.crsPerSrc.close | formatNumber:4 }} CRS</h4>
                </div>
              </opdex-card>
            </div>

            <div class="col">
              <opdex-card>
                <div class="d-flex justify-content-between align-items-center">
                  <h4 class="mb-0">1 CRS (${{pool.token.crs.summary.price.close | formatNumber: 2}})</h4>
                  <mat-icon>swap_horiz</mat-icon>
                  <h4 class="mb-0">{{pool.cost.srcPerCrs.close | formatNumber:4}} {{pool.token.src.symbol}}</h4>
                </div>
              </opdex-card>
            </div>

            <div class="col">
              <opdex-card>
                <div class="d-flex justify-content-between align-items-center">
                  <h4 class="mb-0">Pool Balance</h4>
                    <h4 class="mb-0">{{pool.reserves.crs | formatNumber:4}} CRS</h4>
                </div>
              </opdex-card>
            </div>

            <div class="col">
              <opdex-card>
                <div class="d-flex justify-content-between align-items-center">
                  <h4 class="mb-0">Pool Balance</h4>
                  <h4 class="mb-0">{{pool.reserves.src | formatNumber:4}} {{pool.token.src.symbol}}</h4>
                </div>
              </opdex-card>
            </div>
          </div>
          <div class="row">
            <div class="col">
              <opdex-card>
                <h4 class="stat-header">
                  Liquidity
                  <button mat-icon-button color="primary" class="tiny ml-1"><mat-icon>help</mat-icon></button>
                </h4>

                <div class="stat">
                  <p class="stat-value">
                    ${{pool.reserves.usd | formatNumber}}
                  </p>

                  <opdex-change-indicator [value]="pool.reserves.usdDailyChange"></opdex-change-indicator>
                </div>
              </opdex-card>
            </div>

            <div class="col">
              <opdex-card>
                <h4 class="stat-header">
                  Staking Weight
                  <button mat-icon-button color="primary" class="tiny ml-1"><mat-icon>help</mat-icon></button>
                </h4>

                <div class="stat">
                  <p class="stat-value">
                    {{pool.staking.weight | formatNumber:0}} <small>ODX</small>
                  </p>

                  <opdex-change-indicator [value]="pool.staking.weightDailyChange"></opdex-change-indicator>
                </div>
              </opdex-card>
            </div>

            <div class="col">
              <opdex-card>
                <h4 class="stat-header">
                  Volume <small class="ml-2">(24hr)</small>
                  <button mat-icon-button color="primary" class="tiny ml-1"><mat-icon>help</mat-icon></button>
                </h4>

                <div class="stat">
                  <p class="stat-value">
                    ${{pool.volume.usd | formatNumber}}
                  </p>

                  <!-- <opdex-change-indicator [value]="4.25"></opdex-change-indicator> -->
                </div>
              </opdex-card>
            </div>

            <div class="col">
              <opdex-card>
                <h4 class="stat-header">
                  Rewards <small class="ml-2">(24hr)</small>
                  <button mat-icon-button color="primary" class="tiny ml-1"><mat-icon>help</mat-icon></button>
                </h4>

                <div class="stat">
                  <p class="stat-value">
                    ${{pool.rewards.totalUsd | formatNumber}}
                  </p>

                  <!-- <opdex-change-indicator [value]="4.25"></opdex-change-indicator> -->
                </div>
              </opdex-card>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row mb-5">
      <div class="col-12 col-md-6">
        <opdex-card class="p-0">
          <opdex-line-chart [chartData]="liquidityHistory" title="{{pool.token.src.symbol}}-CRS Liquidity" *ngIf="liquidityHistory"></opdex-line-chart>
        </opdex-card>
      </div>

      <div class="col-12 col-md-6">
        <opdex-card>
          <opdex-volume-chart [chartData]="volumeHistory" *ngIf="volumeHistory"></opdex-volume-chart>
        </opdex-card>
      </div>
    </div>

    <div class="row mb-5">
      <div class="col-12">
        <div class="row">
          <div class="col-3">
            <opdex-card class="mining-pool">
              <div class="d-flex justify-content-between align-items-center">
                <h3 class="d-inline mb-0">Balances</h3>
                <div>
                  <button mat-icon-button class="swap small" (click)="openTransactionSidebar(1)"><mat-icon>swap_horiz</mat-icon></button>
                </div>
              </div>

              <div class="details">
                <div class="mining">
                  <p class="sub-heading">CRS</p>
                  <p class="value">{{walletBalance?.crsBalance}}</p>
                </div>

                <div class="remaining">
                  <p class="sub-heading">{{pool.token.src.symbol}}</p>
                  <p class="value">{{walletBalance?.srcBalance | formatNumber: 8}}</p>
                </div>
              </div>
            </opdex-card>
          </div>

          <div class="col-3">
            <opdex-card class="mining-pool">
              <div class="d-flex justify-content-between align-items-center">
                <h3 class="d-inline mb-0">Providing</h3>
                <div>
                  <button mat-icon-button class="remove small mr-2" (click)="openTransactionSidebar(2)"><mat-icon>remove</mat-icon></button>
                  <button mat-icon-button class="add small" (click)="openTransactionSidebar(2)"><mat-icon>add</mat-icon></button>
                </div>
              </div>

              <div class="details">
                <div class="mining">
                  <p class="sub-heading">Position</p>
                  <p class="value">{{walletBalance?.providing | formatNumber: 8}} LPT</p>
                </div>

                <!-- <div class="remaining">
                  <p class="sub-heading">Rewards</p>
                  <p class="value">1234 CRS/234 ODX</p>
                </div> -->
              </div>
            </opdex-card>
          </div>

          <div class="col-3">
            <opdex-card class="mining-pool">
              <div class="d-flex justify-content-between align-items-center">
                <h3 class="d-inline mb-0">Staking</h3>
                <div>
                  <button mat-icon-button class="remove small mr-2" (click)="openTransactionSidebar(3)"><mat-icon>remove</mat-icon></button>
                  <button mat-icon-button class="add small" (click)="openTransactionSidebar(3)"><mat-icon>add</mat-icon></button>
                </div>
              </div>

              <div class="details">
                <div class="mining">
                  <p class="sub-heading">Position</p>
                  <p class="value">{{walletBalance?.staking | formatNumber: 8}} ODX</p>
                </div>

                <!-- <div class="remaining">
                  <p class="sub-heading">Rewards</p>
                  <p class="value">1234 LPT</p>
                </div> -->
              </div>
            </opdex-card>
          </div>

          <div class="col-3">
            <opdex-card class="mining-pool">
              <div class="d-flex justify-content-between align-items-center">
                <h3 class="d-inline mb-0">Mining</h3>
                <div>
                  <button mat-icon-button class="remove small mr-2" (click)="openTransactionSidebar(4)"><mat-icon>remove</mat-icon></button>
                  <button mat-icon-button class="add small" (click)="openTransactionSidebar(4)"><mat-icon>add</mat-icon></button>
                </div>
              </div>

              <div class="details">
                <div class="mining">
                  <p class="sub-heading">Position</p>
                  <p class="value">{{walletBalance?.mining | formatNumber: 8}} LPT</p>
                </div>

                <!-- <div class="remaining">
                  <p class="sub-heading">Rewards</p>
                  <p class="value">1234 ODX</p>
                </div> -->
              </div>
            </opdex-card>
          </div>
        </div>
      </div>
    </div>

    <div class="row mb-5">
      <div class="col-12">
        <opdex-card>
          <h2>Recent Transactions</h2>
          <opdex-transactions-table></opdex-transactions-table>
        </opdex-card>
      </div>
    </div>
  </div>
</div>
